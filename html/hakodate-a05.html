<!DOCTYPE html>
    <html>
        <head>
            <meta charset="utf-8">
            <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>-->

            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta name="description" content="hakodate-a05">
            <meta name="format-detection" content="telephone=no,address=no,email=no">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="robots" content="noindex,nofollow">
            <title>hakodate-a05</title>
            <!--<link rel="shortcut icon" href="/img/hakodatekousen_kousyo.jpg" >-->
            <!--<link rel="stylesheet" href="hakodate-a05.css">-->

        </head>
            <body>
                <p><button onclick="getMyPlace()">現在位置を取得</button></p>
                <div id="result"></div>
                <div id="map" style="width:100%;height:300px;"></div>

                <div id="map" style="width:620px; height:400px"></div>
                <script async defer src="https://maps.googleapis.com/maps/api/js?key=??"></script>

                <script>
                    function getMyPlace() {
                        var output = document.getElementById("result");
                        if (!navigator.geolocation){//Geolocation apiがサポートされていない場合
                            output.innerHTML = "<p>Geolocationはあなたのブラウザーでサポートされておりません</p>";
                            return;
                        }
                        function success(position) {
                            var latitude  = position.coords.latitude;//緯度
                            var longitude = position.coords.longitude;//経度
                            output.innerHTML = '<p>緯度 ' + latitude + '° <br>経度 ' + longitude + '°</p>';
                        // 位置情報
                        var latlng = new google.maps.LatLng( latitude , longitude ) ;
                        // Google Mapsに書き出し
                        var map = new google.maps.Map( document.getElementById( 'map' ) , {
                            zoom: 15 ,// ズーム値
                            center: latlng ,// 中心座標
                        } ) ;
                        // マーカーの新規出力
                        new google.maps.Marker( {
                            map: map ,
                            position: latlng ,
                        } ) ;
                    };
                    function error() {
                        //エラーの場合
                        output.innerHTML = "座標位置を取得できません";
                    };
                    navigator.geolocation.getCurrentPosition(success, error);//成功と失敗を判断
                }
                </script>

                <!--<button id="button">test</button>-->
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5948.995869531408!2d140.74972142680036!3d41.796032666915096!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f9ef46b8aa78d3d%3A0xff86c0991c51132a!2z44CSMDQwLTAwMDEg5YyX5rW36YGT5Ye96aSo5biC5LqU56ic6YOt55S6!5e0!3m2!1sja!2sjp!4v1639109043440!5m2!1sja!2sjp" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
            </body>
    </html>